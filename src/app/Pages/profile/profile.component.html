<div class="profile-container" *ngIf="user.fullName; else noUser">
  <!-- Profile Header -->
  <div class="profile-header">
    <div class="profile-pic">
      <img src="assets/profile-picture.jpg" alt="Profile Picture" />
    </div>
    <div class="user-details">
      <h2>{{ user.fullName }}</h2>
      <p class="email">{{ user.email }}</p>
      <p class="mob">{{ user.mobno }}</p>
    </div>
  </div>

  <!-- Profile Actions -->
  <div class="profile-actions">
    <button class="btn btn-primary" (click)="editProfile()" data-bs-toggle="modal" data-bs-target="#editProfileModal">
      Edit Profile
    </button>
    <button class="btn btn-secondary" (click)="viewBookings()">View Bookings</button>
    <button class="btn btn-danger" (click)="logout()">Logout</button>
    <a class="explore-link" href="/explore">Schedule my Trip</a>
  </div>

  <!-- Additional Information -->
  <div class="profile-info">
    <h3>Personal Information</h3>
    <ul>
      <li><strong>Phone:</strong> {{ user.phone }}</li>
      <li><strong>Address:</strong> {{ user.address }}</li>
      <li><strong>Joined:</strong> {{ user.joinedDate }}</li>
    </ul>
  </div>
</div>

<ng-template #noUser>
  <p>User information could not be loaded. Please log in again.</p>
</ng-template>

<!-- Modal -->
<div class="modal fade animate-modal" id="editProfileModal" tabindex="-1" aria-labelledby="editProfileModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="editProfileModalLabel">Edit Profile</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form (ngSubmit)="saveProfile()">
          <div class="mb-3">
            <label for="fullName" class="form-label">Full Name</label>
            <input type="text" id="fullName" [(ngModel)]="editUser.fullName" name="fullName" class="form-control" />
          </div>
          <div class="mb-3">
            <label for="email" class="form-label">Email</label>
            <input type="email" id="email" [(ngModel)]="editUser.email" name="email" class="form-control" />
          </div>
          <div class="mb-3">
            <label for="phone" class="form-label">Phone</label>
            <input type="text" id="phone" [(ngModel)]="editUser.phone" name="phone" class="form-control" />
          </div>
          <div class="mb-3">
            <label for="address" class="form-label">Address</label>
            <input type="text" id="address" [(ngModel)]="editUser.address" name="address" class="form-control" />
          </div>
          <button type="submit" class="btn btn-primary">Save Changes</button>
        </form>
      </div>
    </div>
  </div>
</div>
